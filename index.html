<!DOCTYPE html>
<head>
    <title>Edit Your Project</title>
    <link rel="stylesheet" type="text/css" href="styles/sketch.css">
    <link rel="shortcut icon" href="https://i.pinimg.com/originals/7c/43/0b/7c430ba6fb3cd7058aec52cb84a080e6.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>
</head>

<body onselectstart="return false">
    <img id="project-cheese" src="'data:image/jpeg;base64,' + ${project.encodedImageData}" alt="Project Image" width="300" height="200" style="object-fit: cover;" hidden>
    <p id="project-id" th:text="${project.id}" hidden></p>

    <div class="backdrop" id="canvas-size-window">
        <div class="option-window">
            <h1>Enter a size of the canvas</h1>
            <div class="canvas-sizes">
                <input type="text" class="size-input" id="size-x" value="1400" maxlength="4" size="4">
                <input type="text" class="size-input" id="size-y" value="700" maxlength="4" size="4">
            </div>
            <button id="startCanvas"> Create </button>
        </div>

    </div>
    <div class="page">
    <div class="nav" id="sideBar" onselectstart="return false">
        <button id="close_button" class="close-button" accesskey="esc"><img src="icons/close.png" class="icon"></button>
        <div class="section">
            <div class="colors-section">
                <!--<input id="color_input" style="visibility: hidden;" data-coloris>-->
                <input class="userColor" type="color" id="color-input" title="Pen color" value="#000000">
                <button id="palette_button" class="userColor" title="Color palettes"><img src="icons/palette.png" class="icon"></button>
            </div>

            <!--<input type="range" class="slider" min="0" max="100" value="100" id="transparency_slider" title="Transparency of pen">
            <label for="transparency_slider" id="transparency_slider_label"></label>-->
        </div>
        <div class="section">
            <button id="undo_button" title="Undo" class="undoredo"><img src="icons/undo.png" class="icon"></button>
            <button id="redo_button" title="Redo" class="undoredo"><img src="icons/redo.png" class="icon"></button>
        </div>
        <div class="section">
            <button id="save" title="Save as image"><img src="icons/save.png" class="icon"></button>
            <button id="clear" title="Clear the canvas"><img src="icons/clear.png" class="icon"></button>
            <!--<p><b>Settings</b></p>-->
            <button id="settings_button" class="settings_button" title="Settings"><img src="icons/parameters.png" class="icon"></button>
            <button id="tips_button" class="settings_button" title="Tips"><img src="icons/tips.png" class="icon"></button>
        </div>
        <div class="section" style="display: flex;">
            <div class="small-button" id="stroke-button"><img src="icons/curve.png" class="small-icon"></div>
            <div id="stroke-options" class="hoverable">
                <div class="section">
                    <input type="checkbox" id="smoothCheckbox" checked><label for="allowSmoothing">Smooth stroke</label>
                </div>
                <div class="section">
                    <input type="number" name="" min="0" max="1" step="0.1" value="0.2" id="smoothFactorInput"><label for="smoothFactorInput">Smooth factor</label>
                </div>
            </div>
            <div class="small-button" id="selection-button"><img src="icons/area.png" class="small-icon"></div>
            <div id="selection-options" class="hoverable">
                <div id="reset-clip" class="option">
                    <p>Reset Selection</p>
                </div>
            </div>
            <div class="small-button" id="filters-button"><img src="icons/function.png" class="small-icon""></div>
            <div id="filters-options" class="hoverable">
        
            </div>

        </div>
        <div class="section" id="tools-section">
            <!--Drawing tools as scrollable list-->
            <div style="display: flex; justify-content: flex-start;">
                <h3 style="display: inline-block">Tools</h3>
                <div id="showBrushes" style="display: inline-block"><img src="icons/settings.png" height="30" width="30"></div>
            </div>
            <div id="tools-container">

            </div>
        </div>   
        <h3>Tool Properties</h3>
        <div class="section" id="tools-properties">

        </div>

    </div>

    <div class="nav closed" id="settingsBar">
        <button id="close_settings" class="close-button"><img src="icons/back.png" class="icon"></button>        
        
    </div>

    <div class="nav closed" id="tips-bar">
        <button id="close-tips-bar" class="close-button"><img src="icons/back.png" class="icon"></button>        
        <h3>Shortcuts</h3>
        <div class="shortcuts">
            <p>Close Sidebar</p><div class="key"> <p>Esc</p></div>
            <p>Open Menu</p><div class="key"> <p>M</p></div>
            <p>Layers Bar</p><div class="key"><p>L</p></div>
            <p>Palette</p><div class="key"><p>P</p></div>
            <p>Settings</p><div class="key"><p>S</p></div>
            <p>Tips</p><div class="key"><p>Q</p></div>
            <p>Save as Image</p><div class="key"><p>Ctrl</p>+<p>S</p></div>
        </div>

    </div>

    <div class="nav closed" id="paletteBar">
        <button id="closePalette" class="close-button"><img src="icons/back.png" class="icon" height="20" width="20"></button>

        <div>
            <h3 style="display: inline-block;">Custom palette</h3>
            <button id="add_to_palette" style="display: inline-block;"><img src="icons/plus.png"></button>
        </div>
        <div class="palette-cell-container" id="custom_palette">
            
        </div>

        <div id="standard-palettes">

        </div>

    </div>


    <span class="menuButton"><button id="menu_button" title="Show menu"><img src="icons/menu.png" class="icon"></button></span>

    <div class="canvas-container" style="position: relative;">
        <div id="layers">
                
        </div>
    </div>


    <div id="layer-bar" class="floating-bar folded">
        <img src="icons/layers.png" alt="" class="icon" id="layers-icon">
        <div class="tool" id="add-layer">
            <img src="icons/plus.png" width="20" alt="">
            <p>Add a layer</p>
        </div>
        <div style="height: 80%; overflow-y: scroll; overflow-x: clip;">
            <ol type="1" class="section" id="layer-list">

            </ol>
        </div>
        <div class="layer-properties">
            <p>Layer opacity</p>
            <input type="range" id="layerOpacityInput" min="0" max="1" step="0.01" value="1" class="slider">
            <label for="layerOpacityInput" id="layerOpacityLabel">1</label>
        </div>

    </div>

    <!-- Display width -->
    
    <div id="pen-width-container">
        <div id="displayPenWidth">
            <div style="position: fixed;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            border-radius: 50%;">
            </div>
        </div>
    </div>

</div>
    <script type="text/javascript" src="script/drawingTools.js"></script>
    <script type="text/javascript" src="script/layerhandlingUI.js"></script>
    <script type="text/javascript" src="script/main.js"></script>
    <script type="text/javascript" src="script/initColorPalettes.js"></script>
</body>

</html>